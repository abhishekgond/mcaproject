"use strict";(self.__LOADABLE_LOADED_CHUNKS__=self.__LOADABLE_LOADED_CHUNKS__||[]).push([[54241],{31349:(e,t,r)=>{r.d(t,{A:()=>a});var o=r(53377),n=r(96540);class i extends n.PureComponent{constructor(e){super(e)}render(){const e={isExact:!0,params:this.props.initData,url:"/customerRequestJourney"};return n.createElement(o.A,{props:{},nativeRoute:"",match:e})}}const a=i},85479:(e,t,r)=>{r.d(t,{A:()=>c});var o=r(53377),n=r(72962),i=r(96540);class a extends i.PureComponent{constructor(e){super(e)}componentDidMount(){n.A.pushState({historyItem:{id:"new_cj_checkout",itemStore:{}},popStateHandler:this.props.onClose})}render(){const e={isExact:!0,params:this.props.initData,url:"/customerRequestJourney"};return i.createElement(o.A,{props:{},nativeRoute:"",match:e})}}const c=a},74708:(e,t,r)=>{r.r(t),r.d(t,{default:()=>E});var o=r(96540),n=r(82960),i=r(61225),a=r(85479),c=r(9381);let s=function(e){return e.USER="customerApplications",e.PROVIDER="providerApplications",e}({}),d=function(e){return e.PROVIDER="provider",e}({}),u=function(e){return e.PROVIDER_CART="providerCart",e.DEFAULT="bookingJourney",e}({});const l=e=>e==d.PROVIDER?u.PROVIDER_CART:u.DEFAULT;var y=r(94522);function p(e){return{type:y.WQ,data:e}}var m=r(38418),_=r(84641),v=r(57038),g=r(83208),h=r(29115);function f(e,t,r){var o;return(t="symbol"==typeof(o=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(t))?o:String(o))in e?Object.defineProperty(e,t,{value:r,enumerable:!0,configurable:!0,writable:!0}):e[t]=r,e}class R extends o.PureComponent{constructor(e){super(e),f(this,"onClose",(()=>{})),f(this,"getCityKeyFromQuery",(e=>{let t=(0,c.qn)("city",e);t||(t=(0,_.gk)(e));const r=(0,_.LE)(t),o=v.A.get(v.$.THIRD_PARTY_SOURCE);return o&&o===g.K.MYGATE?t:t||r})),f(this,"getCityKey",(()=>this.getCityKeyFromQuery(window.location.search))),this.state={draftOrderId:e.match.params.draftOrderId,categoryKey:e.match.params.categoryKey,mountCJ:!1}}componentDidMount(){const e=v.A.get(v.$.THIRD_PARTY_SOURCE);e&&e===g.K.MYGATE&&(0,h.Y)();const t=this.getCityKeyFromQuery(),r=this.state.categoryKey||(0,c.qn)("category");if(!(e===g.K.MYGATE||t&&r)){const e=this.state.draftOrderId;this.props.getDraftOrder(e),this.setState({mountCJ:!0})}}UNSAFE_componentWillReceiveProps(e){e.draftOrderReducer.draftOrderDetailsForTheID&&this.setState({initiateJourneyData:e.draftOrderReducer.draftOrderDetailsForTheID})}render(){const{initiateJourneyData:e}=this.state,t=this.getCityKey(),r=this.state.categoryKey||(0,c.qn)("category",this.props.location.search);if(t&&r)return o.createElement(m.A,{cityKey:t,categoryKey:r});if(!e)return null;const n=(u=(0,c.Jt)(e,"success.data",e),{dataPoints:{placeId:(0,c.Jt)(u,"location_context.homescreen_address._id"),coordinates:{lat:(0,c.Jt)(u,"location_context.homescreen_coordinates.lat"),long:(0,c.Jt)(u,"location_context.homescreen_coordinates.lng")},homescreenAddress:{addressId:(0,c.Jt)(u,"address_context._id")}},cityKey:(0,c.Jt)(u,"location_context.city_key"),triggerSource:{type:"category",details:{}},dimensions:{customerId:(0,c.Jt)(u,"user_context.user_id"),coordinates:{lat:(0,c.Jt)(u,"location_context.homescreen_coordinates.lat"),lng:(0,c.Jt)(u,"location_context.homescreen_coordinates.lng")},categoryKey:(0,c.Jt)(u,"category_context.category_key"),cityKey:(0,c.Jt)(u,"location_context.city_key"),source:(i=(0,c.Jt)(u,"user_role"),i==d.PROVIDER?s.PROVIDER:s.USER),useCase:l((0,c.Jt)(u,"user_role")),providerContext:(0,c.Jt)(u,"provider_context")},city_key:(0,c.Jt)(u,"location_context.city_key"),device_id:(0,c.Jt)(u,"device_context.device_id"),device_os:(0,c.Jt)(u,"device_context.device_os"),device_type:"web",version:(0,c.Jt)(u,"device_context.app_version")});var i,u;return o.createElement("div",null,this.state.mountCJ&&o.createElement("div",{style:{paddingTop:"92px",height:"calc(100vh - 60px)",overflow:"auto"}},o.createElement(a.A,{initData:n,onClose:this.onClose})))}}const E=(0,i.Ng)((e=>({draftOrderReducer:e.draftOrderReducer})),(e=>(0,n.zH)({getDraftOrder:p},e)))(R)},38418:(e,t,r)=>{r.d(t,{A:()=>d});var o=r(96540),n=r(31349),i=r(61225),a=r(84641),c=r(17696);class s extends o.PureComponent{constructor(e){var t,r,o,n;super(e),t=this,o=e=>{const t=(0,a.e6)(e);return{lat:t.lat,long:t.long}},(r="symbol"==typeof(n=function(e,t){if("object"!=typeof e||!e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var o=r.call(e,"string");if("object"!=typeof o)return o;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(r="getCityLatng"))?n:String(n))in t?Object.defineProperty(t,r,{value:o,enumerable:!0,configurable:!0,writable:!0}):t[r]=o}render(){const{cityKey:e,categoryKey:t,deeplinkParams:r}=this.props,i=(0,c.a)({cityKey:e,categoryKey:t,deeplinkParams:r});return o.createElement(n.A,{initData:i})}}const d=(0,i.Ng)((e=>({locationReducer:e.locationReducer})))(s)}}]);